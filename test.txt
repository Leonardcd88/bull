
> bull@0.7.1 test /Users/manuel/dev/bull
> gulp && mocha test/test_* --reporter spec --timeout 5000

[21:51:21] Using gulpfile ~/dev/bull/gulpfile.js
[21:51:21] Starting 'lint'...
[21:51:22] 
/Users/manuel/dev/bull/lib/queue.js
  9:4  warning  scripts is defined but never used  no-unused-vars

/Users/manuel/dev/bull/test/test_queue.js
  636:30  warning  job is defined but never used  no-unused-vars

✖ 2 problems (0 errors, 2 warnings)

[21:51:22] Finished 'lint' after 1.01 s
[21:51:22] Starting 'default'...
[21:51:22] Finished 'default' after 17 μs
Worker spawned: # 1
Worker spawned: # 2
Worker spawned: # 3
Worker spawned: # 4
Worker spawned: # 5
Worker spawned: # 6
Worker spawned: # 7


  Job
    .remove
      1) removes the job from redis
      ✓ emits removed event


  1 passing (590ms)
  1 failing

  1) Job .remove removes the job from redis:
     Error: expected { queue: 
   { name: 'test-782218bb-df38-47da-8d41-85a6782f4e96',
     client: 
      { stream: [Object],
        options: [Object],
        connection_id: 4,
        connected: true,
        ready: true,
        connections: 1,
        should_buffer: false,
        command_queue_high_water: 1000,
        command_queue_low_water: 0,
        max_attempts: null,
        command_queue: [Object],
        offline_queue: [Object],
        commands_sent: 8,
        connect_timeout: false,
        enable_offline_queue: true,
        retry_max_delay: null,
        retry_timer: null,
        retry_totaltime: 0,
        retry_delay: 150,
        retry_backoff: 1.7,
        attempts: 1,
        pub_sub_mode: false,
        subscription_set: {},
        monitoring: false,
        closing: false,
        server_info: [Object],
        auth_pass: null,
        parser_module: [Object],
        selected_db: 0,
        old_state: null,
        domain: null,
        _events: [Object],
        _maxListeners: undefined,
        connectionOption: [Object],
        address: '127.0.0.1:6379',
        install_stream_listenersAsync: [Function],
        initialize_retry_varsAsync: [Function],
        unrefAsync: [Function],
        flush_and_errorAsync: [Function],
        on_errorAsync: [Function],
        do_authAsync: [Function],
        on_connectAsync: [Function],
        init_parserAsync: [Function],
        on_readyAsync: [Function],
        on_info_cmdAsync: [Function],
        ready_checkAsync: [Function],
        send_offline_queueAsync: [Function],
        connection_goneAsync: [Function],
        on_dataAsync: [Function],
        return_errorAsync: [Function],
        return_replyAsync: [Function],
        send_commandAsync: [Function],
        pub_sub_commandAsync: [Function],
        endAsync: [Function],
        getAsync: [Function],
        GETAsync: [Function],
        setAsync: [Function],
        SETAsync: [Function],
        setnxAsync: [Function],
        SETNXAsync: [Function],
        setexAsync: [Function],
        SETEXAsync: [Function],
        appendAsync: [Function],
        APPENDAsync: [Function],
        strlenAsync: [Function],
        STRLENAsync: [Function],
        delAsync: [Function],
        DELAsync: [Function],
        existsAsync: [Function],
        EXISTSAsync: [Function],
        setbitAsync: [Function],
        SETBITAsync: [Function],
        getbitAsync: [Function],
        GETBITAsync: [Function],
        setrangeAsync: [Function],
        SETRANGEAsync: [Function],
        getrangeAsync: [Function],
        GETRANGEAsync: [Function],
        substrAsync: [Function],
        SUBSTRAsync: [Function],
        incrAsync: [Function],
        INCRAsync: [Function],
        decrAsync: [Function],
        DECRAsync: [Function],
        mgetAsync: [Function],
        MGETAsync: [Function],
        rpushAsync: [Function],
        RPUSHAsync: [Function],
        lpushAsync: [Function],
        LPUSHAsync: [Function],
        rpushxAsync: [Function],
        RPUSHXAsync: [Function],
        lpushxAsync: [Function],
        LPUSHXAsync: [Function],
        linsertAsync: [Function],
        LINSERTAsync: [Function],
        rpopAsync: [Function],
        RPOPAsync: [Function],
        lpopAsync: [Function],
        LPOPAsync: [Function],
        brpopAsync: [Function],
        BRPOPAsync: [Function],
        brpoplpushAsync: [Function],
        BRPOPLPUSHAsync: [Function],
        blpopAsync: [Function],
        BLPOPAsync: [Function],
        llenAsync: [Function],
        LLENAsync: [Function],
        lindexAsync: [Function],
        LINDEXAsync: [Function],
        lsetAsync: [Function],
        LSETAsync: [Function],
        lrangeAsync: [Function],
        LRANGEAsync: [Function],
        ltrimAsync: [Function],
        LTRIMAsync: [Function],
        lremAsync: [Function],
        LREMAsync: [Function],
        rpoplpushAsync: [Function],
        RPOPLPUSHAsync: [Function],
        saddAsync: [Function],
        SADDAsync: [Function],
        sremAsync: [Function],
        SREMAsync: [Function],
        smoveAsync: [Function],
        SMOVEAsync: [Function],
        sismemberAsync: [Function],
        SISMEMBERAsync: [Function],
        scardAsync: [Function],
        SCARDAsync: [Function],
        spopAsync: [Function],
        SPOPAsync: [Function],
        srandmemberAsync: [Function],
        SRANDMEMBERAsync: [Function],
        sinterAsync: [Function],
        SINTERAsync: [Function],
        sinterstoreAsync: [Function],
        SINTERSTOREAsync: [Function],
        sunionAsync: [Function],
        SUNIONAsync: [Function],
        sunionstoreAsync: [Function],
        SUNIONSTOREAsync: [Function],
        sdiffAsync: [Function],
        SDIFFAsync: [Function],
        sdiffstoreAsync: [Function],
        SDIFFSTOREAsync: [Function],
        smembersAsync: [Function],
        SMEMBERSAsync: [Function],
        zaddAsync: [Function],
        ZADDAsync: [Function],
        zincrbyAsync: [Function],
        ZINCRBYAsync: [Function],
        zremAsync: [Function],
        ZREMAsync: [Function],
        zremrangebyscoreAsync: [Function],
        ZREMRANGEBYSCOREAsync: [Function],
        zremrangebyrankAsync: [Function],
        ZREMRANGEBYRANKAsync: [Function],
        zunionstoreAsync: [Function],
        ZUNIONSTOREAsync: [Function],
        zinterstoreAsync: [Function],
        ZINTERSTOREAsync: [Function],
        zrangeAsync: [Function],
        ZRANGEAsync: [Function],
        zrangebyscoreAsync: [Function],
        ZRANGEBYSCOREAsync: [Function],
        zrevrangebyscoreAsync: [Function],
        ZREVRANGEBYSCOREAsync: [Function],
        zcountAsync: [Function],
        ZCOUNTAsync: [Function],
        zrevrangeAsync: [Function],
        ZREVRANGEAsync: [Function],
        zcardAsync: [Function],
        ZCARDAsync: [Function],
        zscoreAsync: [Function],
        ZSCOREAsync: [Function],
        zrankAsync: [Function],
        ZRANKAsync: [Function],
        zrevrankAsync: [Function],
        ZREVRANKAsync: [Function],
        hsetAsync: [Function],
        HSETAsync: [Function],
        hsetnxAsync: [Function],
        HSETNXAsync: [Function],
        hgetAsync: [Function],
        HGETAsync: [Function],
        hmsetAsync: [Function],
        HMSETAsync: [Function],
        hmgetAsync: [Function],
        HMGETAsync: [Function],
        hincrbyAsync: [Function],
        HINCRBYAsync: [Function],
        hdelAsync: [Function],
        HDELAsync: [Function],
        hlenAsync: [Function],
        HLENAsync: [Function],
        hkeysAsync: [Function],
        HKEYSAsync: [Function],
        hvalsAsync: [Function],
        HVALSAsync: [Function],
        hgetallAsync: [Function],
        HGETALLAsync: [Function],
        hexistsAsync: [Function],
        HEXISTSAsync: [Function],
        incrbyAsync: [Function],
        INCRBYAsync: [Function],
        decrbyAsync: [Function],
        DECRBYAsync: [Function],
        getsetAsync: [Function],
        GETSETAsync: [Function],
        msetAsync: [Function],
        MSETAsync: [Function],
        msetnxAsync: [Function],
        MSETNXAsync: [Function],
        randomkeyAsync: [Function],
        RANDOMKEYAsync: [Function],
        selectAsync: [Function],
        SELECTAsync: [Function],
        moveAsync: [Function],
        MOVEAsync: [Function],
        renameAsync: [Function],
        RENAMEAsync: [Function],
        renamenxAsync: [Function],
        RENAMENXAsync: [Function],
        expireAsync: [Function],
        EXPIREAsync: [Function],
        expireatAsync: [Function],
        EXPIREATAsync: [Function],
        keysAsync: [Function],
        KEYSAsync: [Function],
        dbsizeAsync: [Function],
        DBSIZEAsync: [Function],
        authAsync: [Function],
        AUTHAsync: [Function],
        pingAsync: [Function],
        PINGAsync: [Function],
        echoAsync: [Function],
        ECHOAsync: [Function],
        saveAsync: [Function],
        SAVEAsync: [Function],
        bgsaveAsync: [Function],
        BGSAVEAsync: [Function],
        bgrewriteaofAsync: [Function],
        BGREWRITEAOFAsync: [Function],
        shutdownAsync: [Function],
        SHUTDOWNAsync: [Function],
        lastsaveAsync: [Function],
        LASTSAVEAsync: [Function],
        typeAsync: [Function],
        TYPEAsync: [Function],
        multiAsync: [Function],
        MULTIAsync: [Function],
        execAsync: [Function],
        EXECAsync: [Function],
        discardAsync: [Function],
        DISCARDAsync: [Function],
        syncAsync: [Function],
        SYNCAsync: [Function],
        flushdbAsync: [Function],
        FLUSHDBAsync: [Function],
        flushallAsync: [Function],
        FLUSHALLAsync: [Function],
        sortAsync: [Function],
        SORTAsync: [Function],
        infoAsync: [Function],
        INFOAsync: [Function],
        monitorAsync: [Function],
        MONITORAsync: [Function],
        ttlAsync: [Function],
        TTLAsync: [Function],
        persistAsync: [Function],
        PERSISTAsync: [Function],
        slaveofAsync: [Function],
        SLAVEOFAsync: [Function],
        debugAsync: [Function],
        DEBUGAsync: [Function],
        configAsync: [Function],
        CONFIGAsync: [Function],
        subscribeAsync: [Function],
        SUBSCRIBEAsync: [Function],
        unsubscribeAsync: [Function],
        UNSUBSCRIBEAsync: [Function],
        psubscribeAsync: [Function],
        PSUBSCRIBEAsync: [Function],
        punsubscribeAsync: [Function],
        PUNSUBSCRIBEAsync: [Function],
        publishAsync: [Function],
        PUBLISHAsync: [Function],
        watchAsync: [Function],
        WATCHAsync: [Function],
        unwatchAsync: [Function],
        UNWATCHAsync: [Function],
        clusterAsync: [Function],
        CLUSTERAsync: [Function],
        restoreAsync: [Function],
        RESTOREAsync: [Function],
        migrateAsync: [Function],
        MIGRATEAsync: [Function],
        dumpAsync: [Function],
        DUMPAsync: [Function],
        objectAsync: [Function],
        OBJECTAsync: [Function],
        clientAsync: [Function],
        CLIENTAsync: [Function],
        evalAsync: [Function],
        EVALAsync: [Function],
        evalshaAsync: [Function],
        EVALSHAAsync: [Function],
        bitcountAsync: [Function],
        BITCOUNTAsync: [Function],
        bitopAsync: [Function],
        BITOPAsync: [Function],
        bitposAsync: [Function],
        BITPOSAsync: [Function],
        hincrbyfloatAsync: [Function],
        HINCRBYFLOATAsync: [Function],
        incrbyfloatAsync: [Function],
        INCRBYFLOATAsync: [Function],
        pexpireAsync: [Function],
        PEXPIREAsync: [Function],
        pexpireatAsync: [Function],
        PEXPIREATAsync: [Function],
        pfaddAsync: [Function],
        PFADDAsync: [Function],
        pfcountAsync: [Function],
        PFCOUNTAsync: [Function],
        pfmergeAsync: [Function],
        PFMERGEAsync: [Function],
        psetexAsync: [Function],
        PSETEXAsync: [Function],
        pubsubAsync: [Function],
        PUBSUBAsync: [Function],
        pttlAsync: [Function],
        PTTLAsync: [Function],
        quitAsync: [Function],
        QUITAsync: [Function],
        scriptAsync: [Function],
        SCRIPTAsync: [Function],
        slowlogAsync: [Function],
        SLOWLOGAsync: [Function],
        timeAsync: [Function],
        TIMEAsync: [Function],
        zlexcountAsync: [Function],
        ZLEXCOUNTAsync: [Function],
        zrangebylexAsync: [Function],
        ZRANGEBYLEXAsync: [Function],
        zremrangebylexAsync: [Function],
        ZREMRANGEBYLEXAsync: [Function],
        scanAsync: [Function],
        SCANAsync: [Function],
        sscanAsync: [Function],
        SSCANAsync: [Function],
        hscanAsync: [Function],
        HSCANAsync: [Function],
        zscanAsync: [Function],
        ZSCANAsync: [Function],
        setMaxListenersAsync: [Function],
        emitAsync: [Function],
        addListenerAsync: [Function],
        onAsync: [Function],
        onceAsync: [Function],
        removeListenerAsync: [Function],
        removeAllListenersAsync: [Function],
        listenersAsync: [Function],
        emitted_end: false,
        reply_parser: [Object],
        send_anyway: false },
     bclient: 
      { stream: [Object],
        options: [Object],
        connection_id: 5,
        connected: true,
        ready: true,
        connections: 1,
        should_buffer: false,
        command_queue_high_water: 1000,
        command_queue_low_water: 0,
        max_attempts: null,
        command_queue: [Object],
        offline_queue: [Object],
        commands_sent: 2,
        connect_timeout: false,
        enable_offline_queue: true,
        retry_max_delay: null,
        retry_timer: null,
        retry_totaltime: 0,
        retry_delay: 150,
        retry_backoff: 1.7,
        attempts: 1,
        pub_sub_mode: false,
        subscription_set: {},
        monitoring: false,
        closing: false,
        server_info: [Object],
        auth_pass: null,
        parser_module: [Object],
        selected_db: 0,
        old_state: null,
        domain: null,
        _events: [Object],
        _maxListeners: undefined,
        connectionOption: [Object],
        address: '127.0.0.1:6379',
        install_stream_listenersAsync: [Function],
        initialize_retry_varsAsync: [Function],
        unrefAsync: [Function],
        flush_and_errorAsync: [Function],
        on_errorAsync: [Function],
        do_authAsync: [Function],
        on_connectAsync: [Function],
        init_parserAsync: [Function],
        on_readyAsync: [Function],
        on_info_cmdAsync: [Function],
        ready_checkAsync: [Function],
        send_offline_queueAsync: [Function],
        connection_goneAsync: [Function],
        on_dataAsync: [Function],
        return_errorAsync: [Function],
        return_replyAsync: [Function],
        send_commandAsync: [Function],
        pub_sub_commandAsync: [Function],
        endAsync: [Function],
        getAsync: [Function],
        GETAsync: [Function],
        setAsync: [Function],
        SETAsync: [Function],
        setnxAsync: [Function],
        SETNXAsync: [Function],
        setexAsync: [Function],
        SETEXAsync: [Function],
        appendAsync: [Function],
        APPENDAsync: [Function],
        strlenAsync: [Function],
        STRLENAsync: [Function],
        delAsync: [Function],
        DELAsync: [Function],
        existsAsync: [Function],
        EXISTSAsync: [Function],
        setbitAsync: [Function],
        SETBITAsync: [Function],
        getbitAsync: [Function],
        GETBITAsync: [Function],
        setrangeAsync: [Function],
        SETRANGEAsync: [Function],
        getrangeAsync: [Function],
        GETRANGEAsync: [Function],
        substrAsync: [Function],
        SUBSTRAsync: [Function],
        incrAsync: [Function],
        INCRAsync: [Function],
        decrAsync: [Function],
        DECRAsync: [Function],
        mgetAsync: [Function],
        MGETAsync: [Function],
        rpushAsync: [Function],
        RPUSHAsync: [Function],
        lpushAsync: [Function],
        LPUSHAsync: [Function],
        rpushxAsync: [Function],
        RPUSHXAsync: [Function],
        lpushxAsync: [Function],
        LPUSHXAsync: [Function],
        linsertAsync: [Function],
        LINSERTAsync: [Function],
        rpopAsync: [Function],
        RPOPAsync: [Function],
        lpopAsync: [Function],
        LPOPAsync: [Function],
        brpopAsync: [Function],
        BRPOPAsync: [Function],
        brpoplpushAsync: [Function],
        BRPOPLPUSHAsync: [Function],
        blpopAsync: [Function],
        BLPOPAsync: [Function],
        llenAsync: [Function],
        LLENAsync: [Function],
        lindexAsync: [Function],
        LINDEXAsync: [Function],
        lsetAsync: [Function],
        LSETAsync: [Function],
        lrangeAsync: [Function],
        LRANGEAsync: [Function],
        ltrimAsync: [Function],
        LTRIMAsync: [Function],
        lremAsync: [Function],
        LREMAsync: [Function],
        rpoplpushAsync: [Function],
        RPOPLPUSHAsync: [Function],
        saddAsync: [Function],
        SADDAsync: [Function],
        sremAsync: [Function],
        SREMAsync: [Function],
        smoveAsync: [Function],
        SMOVEAsync: [Function],
        sismemberAsync: [Function],
        SISMEMBERAsync: [Function],
        scardAsync: [Function],
        SCARDAsync: [Function],
        spopAsync: [Function],
        SPOPAsync: [Function],
        srandmemberAsync: [Function],
        SRANDMEMBERAsync: [Function],
        sinterAsync: [Function],
        SINTERAsync: [Function],
        sinterstoreAsync: [Function],
        SINTERSTOREAsync: [Function],
        sunionAsync: [Function],
        SUNIONAsync: [Function],
        sunionstoreAsync: [Function],
        SUNIONSTOREAsync: [Function],
        sdiffAsync: [Function],
        SDIFFAsync: [Function],
        sdiffstoreAsync: [Function],
        SDIFFSTOREAsync: [Function],
        smembersAsync: [Function],
        SMEMBERSAsync: [Function],
        zaddAsync: [Function],
        ZADDAsync: [Function],
        zincrbyAsync: [Function],
        ZINCRBYAsync: [Function],
        zremAsync: [Function],
        ZREMAsync: [Function],
        zremrangebyscoreAsync: [Function],
        ZREMRANGEBYSCOREAsync: [Function],
        zremrangebyrankAsync: [Function],
        ZREMRANGEBYRANKAsync: [Function],
        zunionstoreAsync: [Function],
        ZUNIONSTOREAsync: [Function],
        zinterstoreAsync: [Function],
        ZINTERSTOREAsync: [Function],
        zrangeAsync: [Function],
        ZRANGEAsync: [Function],
        zrangebyscoreAsync: [Function],
        ZRANGEBYSCOREAsync: [Function],
        zrevrangebyscoreAsync: [Function],
        ZREVRANGEBYSCOREAsync: [Function],
        zcountAsync: [Function],
        ZCOUNTAsync: [Function],
        zrevrangeAsync: [Function],
        ZREVRANGEAsync: [Function],
        zcardAsync: [Function],
        ZCARDAsync: [Function],
        zscoreAsync: [Function],
        ZSCOREAsync: [Function],
        zrankAsync: [Function],
        ZRANKAsync: [Function],
        zrevrankAsync: [Function],
        ZREVRANKAsync: [Function],
        hsetAsync: [Function],
        HSETAsync: [Function],
        hsetnxAsync: [Function],
        HSETNXAsync: [Function],
        hgetAsync: [Function],
        HGETAsync: [Function],
        hmsetAsync: [Function],
        HMSETAsync: [Function],
        hmgetAsync: [Function],
        HMGETAsync: [Function],
        hincrbyAsync: [Function],
        HINCRBYAsync: [Function],
        hdelAsync: [Function],
        HDELAsync: [Function],
        hlenAsync: [Function],
        HLENAsync: [Function],
        hkeysAsync: [Function],
        HKEYSAsync: [Function],
        hvalsAsync: [Function],
        HVALSAsync: [Function],
        hgetallAsync: [Function],
        HGETALLAsync: [Function],
        hexistsAsync: [Function],
        HEXISTSAsync: [Function],
        incrbyAsync: [Function],
        INCRBYAsync: [Function],
        decrbyAsync: [Function],
        DECRBYAsync: [Function],
        getsetAsync: [Function],
        GETSETAsync: [Function],
        msetAsync: [Function],
        MSETAsync: [Function],
        msetnxAsync: [Function],
        MSETNXAsync: [Function],
        randomkeyAsync: [Function],
        RANDOMKEYAsync: [Function],
        selectAsync: [Function],
        SELECTAsync: [Function],
        moveAsync: [Function],
        MOVEAsync: [Function],
        renameAsync: [Function],
        RENAMEAsync: [Function],
        renamenxAsync: [Function],
        RENAMENXAsync: [Function],
        expireAsync: [Function],
        EXPIREAsync: [Function],
        expireatAsync: [Function],
        EXPIREATAsync: [Function],
        keysAsync: [Function],
        KEYSAsync: [Function],
        dbsizeAsync: [Function],
        DBSIZEAsync: [Function],
        authAsync: [Function],
        AUTHAsync: [Function],
        pingAsync: [Function],
        PINGAsync: [Function],
        echoAsync: [Function],
        ECHOAsync: [Function],
        saveAsync: [Function],
        SAVEAsync: [Function],
        bgsaveAsync: [Function],
        BGSAVEAsync: [Function],
        bgrewriteaofAsync: [Function],
        BGREWRITEAOFAsync: [Function],
        shutdownAsync: [Function],
        SHUTDOWNAsync: [Function],
        lastsaveAsync: [Function],
        LASTSAVEAsync: [Function],
        typeAsync: [Function],
        TYPEAsync: [Function],
        multiAsync: [Function],
        MULTIAsync: [Function],
        execAsync: [Function],
        EXECAsync: [Function],
        discardAsync: [Function],
        DISCARDAsync: [Function],
        syncAsync: [Function],
        SYNCAsync: [Function],
        flushdbAsync: [Function],
        FLUSHDBAsync: [Function],
        flushallAsync: [Function],
        FLUSHALLAsync: [Function],
        sortAsync: [Function],
        SORTAsync: [Function],
        infoAsync: [Function],
        INFOAsync: [Function],
        monitorAsync: [Function],
        MONITORAsync: [Function],
        ttlAsync: [Function],
        TTLAsync: [Function],
        persistAsync: [Function],
        PERSISTAsync: [Function],
        slaveofAsync: [Function],
        SLAVEOFAsync: [Function],
        debugAsync: [Function],
        DEBUGAsync: [Function],
        configAsync: [Function],
        CONFIGAsync: [Function],
        subscribeAsync: [Function],
        SUBSCRIBEAsync: [Function],
        unsubscribeAsync: [Function],
        UNSUBSCRIBEAsync: [Function],
        psubscribeAsync: [Function],
        PSUBSCRIBEAsync: [Function],
        punsubscribeAsync: [Function],
        PUNSUBSCRIBEAsync: [Function],
        publishAsync: [Function],
        PUBLISHAsync: [Function],
        watchAsync: [Function],
        WATCHAsync: [Function],
        unwatchAsync: [Function],
        UNWATCHAsync: [Function],
        clusterAsync: [Function],
        CLUSTERAsync: [Function],
        restoreAsync: [Function],
        RESTOREAsync: [Function],
        migrateAsync: [Function],
        MIGRATEAsync: [Function],
        dumpAsync: [Function],
        DUMPAsync: [Function],
        objectAsync: [Function],
        OBJECTAsync: [Function],
        clientAsync: [Function],
        CLIENTAsync: [Function],
        evalAsync: [Function],
        EVALAsync: [Function],
        evalshaAsync: [Function],
        EVALSHAAsync: [Function],
        bitcountAsync: [Function],
        BITCOUNTAsync: [Function],
        bitopAsync: [Function],
        BITOPAsync: [Function],
        bitposAsync: [Function],
        BITPOSAsync: [Function],
        hincrbyfloatAsync: [Function],
        HINCRBYFLOATAsync: [Function],
        incrbyfloatAsync: [Function],
        INCRBYFLOATAsync: [Function],
        pexpireAsync: [Function],
        PEXPIREAsync: [Function],
        pexpireatAsync: [Function],
        PEXPIREATAsync: [Function],
        pfaddAsync: [Function],
        PFADDAsync: [Function],
        pfcountAsync: [Function],
        PFCOUNTAsync: [Function],
        pfmergeAsync: [Function],
        PFMERGEAsync: [Function],
        psetexAsync: [Function],
        PSETEXAsync: [Function],
        pubsubAsync: [Function],
        PUBSUBAsync: [Function],
        pttlAsync: [Function],
        PTTLAsync: [Function],
        quitAsync: [Function],
        QUITAsync: [Function],
        scriptAsync: [Function],
        SCRIPTAsync: [Function],
        slowlogAsync: [Function],
        SLOWLOGAsync: [Function],
        timeAsync: [Function],
        TIMEAsync: [Function],
        zlexcountAsync: [Function],
        ZLEXCOUNTAsync: [Function],
        zrangebylexAsync: [Function],
        ZRANGEBYLEXAsync: [Function],
        zremrangebylexAsync: [Function],
        ZREMRANGEBYLEXAsync: [Function],
        scanAsync: [Function],
        SCANAsync: [Function],
        sscanAsync: [Function],
        SSCANAsync: [Function],
        hscanAsync: [Function],
        HSCANAsync: [Function],
        zscanAsync: [Function],
        ZSCANAsync: [Function],
        setMaxListenersAsync: [Function],
        emitAsync: [Function],
        addListenerAsync: [Function],
        onAsync: [Function],
        onceAsync: [Function],
        removeListenerAsync: [Function],
        removeAllListenersAsync: [Function],
        listenersAsync: [Function],
        emitted_end: false,
        reply_parser: [Object],
        send_anyway: false },
     eclient: 
      { stream: [Object],
        options: [Object],
        connection_id: 6,
        connected: true,
        ready: true,
        connections: 1,
        should_buffer: false,
        command_queue_high_water: 1000,
        command_queue_low_water: 0,
        max_attempts: null,
        command_queue: [Object],
        offline_queue: [Object],
        commands_sent: 3,
        connect_timeout: false,
        enable_offline_queue: true,
        retry_max_delay: null,
        retry_timer: null,
        retry_totaltime: 0,
        retry_delay: 150,
        retry_backoff: 1.7,
        attempts: 1,
        pub_sub_mode: true,
        subscription_set: [Object],
        monitoring: false,
        closing: false,
        server_info: [Object],
        auth_pass: null,
        parser_module: [Object],
        selected_db: 0,
        old_state: null,
        domain: null,
        _events: [Object],
        _maxListeners: undefined,
        connectionOption: [Object],
        address: '127.0.0.1:6379',
        install_stream_listenersAsync: [Function],
        initialize_retry_varsAsync: [Function],
        unrefAsync: [Function],
        flush_and_errorAsync: [Function],
        on_errorAsync: [Function],
        do_authAsync: [Function],
        on_connectAsync: [Function],
        init_parserAsync: [Function],
        on_readyAsync: [Function],
        on_info_cmdAsync: [Function],
        ready_checkAsync: [Function],
        send_offline_queueAsync: [Function],
        connection_goneAsync: [Function],
        on_dataAsync: [Function],
        return_errorAsync: [Function],
        return_replyAsync: [Function],
        send_commandAsync: [Function],
        pub_sub_commandAsync: [Function],
        endAsync: [Function],
        getAsync: [Function],
        GETAsync: [Function],
        setAsync: [Function],
        SETAsync: [Function],
        setnxAsync: [Function],
        SETNXAsync: [Function],
        setexAsync: [Function],
        SETEXAsync: [Function],
        appendAsync: [Function],
        APPENDAsync: [Function],
        strlenAsync: [Function],
        STRLENAsync: [Function],
        delAsync: [Function],
        DELAsync: [Function],
        existsAsync: [Function],
        EXISTSAsync: [Function],
        setbitAsync: [Function],
        SETBITAsync: [Function],
        getbitAsync: [Function],
        GETBITAsync: [Function],
        setrangeAsync: [Function],
        SETRANGEAsync: [Function],
        getrangeAsync: [Function],
        GETRANGEAsync: [Function],
        substrAsync: [Function],
        SUBSTRAsync: [Function],
        incrAsync: [Function],
        INCRAsync: [Function],
        decrAsync: [Function],
        DECRAsync: [Function],
        mgetAsync: [Function],
        MGETAsync: [Function],
        rpushAsync: [Function],
        RPUSHAsync: [Function],
        lpushAsync: [Function],
        LPUSHAsync: [Function],
        rpushxAsync: [Function],
        RPUSHXAsync: [Function],
        lpushxAsync: [Function],
        LPUSHXAsync: [Function],
        linsertAsync: [Function],
        LINSERTAsync: [Function],
        rpopAsync: [Function],
        RPOPAsync: [Function],
        lpopAsync: [Function],
        LPOPAsync: [Function],
        brpopAsync: [Function],
        BRPOPAsync: [Function],
        brpoplpushAsync: [Function],
        BRPOPLPUSHAsync: [Function],
        blpopAsync: [Function],
        BLPOPAsync: [Function],
        llenAsync: [Function],
        LLENAsync: [Function],
        lindexAsync: [Function],
        LINDEXAsync: [Function],
        lsetAsync: [Function],
        LSETAsync: [Function],
        lrangeAsync: [Function],
        LRANGEAsync: [Function],
        ltrimAsync: [Function],
        LTRIMAsync: [Function],
        lremAsync: [Function],
        LREMAsync: [Function],
        rpoplpushAsync: [Function],
        RPOPLPUSHAsync: [Function],
        saddAsync: [Function],
        SADDAsync: [Function],
        sremAsync: [Function],
        SREMAsync: [Function],
        smoveAsync: [Function],
        SMOVEAsync: [Function],
        sismemberAsync: [Function],
        SISMEMBERAsync: [Function],
        scardAsync: [Function],
        SCARDAsync: [Function],
        spopAsync: [Function],
        SPOPAsync: [Function],
        srandmemberAsync: [Function],
        SRANDMEMBERAsync: [Function],
        sinterAsync: [Function],
        SINTERAsync: [Function],
        sinterstoreAsync: [Function],
        SINTERSTOREAsync: [Function],
        sunionAsync: [Function],
        SUNIONAsync: [Function],
        sunionstoreAsync: [Function],
        SUNIONSTOREAsync: [Function],
        sdiffAsync: [Function],
        SDIFFAsync: [Function],
        sdiffstoreAsync: [Function],
        SDIFFSTOREAsync: [Function],
        smembersAsync: [Function],
        SMEMBERSAsync: [Function],
        zaddAsync: [Function],
        ZADDAsync: [Function],
        zincrbyAsync: [Function],
        ZINCRBYAsync: [Function],
        zremAsync: [Function],
        ZREMAsync: [Function],
        zremrangebyscoreAsync: [Function],
        ZREMRANGEBYSCOREAsync: [Function],
        zremrangebyrankAsync: [Function],
        ZREMRANGEBYRANKAsync: [Function],
        zunionstoreAsync: [Function],
        ZUNIONSTOREAsync: [Function],
        zinterstoreAsync: [Function],
        ZINTERSTOREAsync: [Function],
        zrangeAsync: [Function],
        ZRANGEAsync: [Function],
        zrangebyscoreAsync: [Function],
        ZRANGEBYSCOREAsync: [Function],
        zrevrangebyscoreAsync: [Function],
        ZREVRANGEBYSCOREAsync: [Function],
        zcountAsync: [Function],
        ZCOUNTAsync: [Function],
        zrevrangeAsync: [Function],
        ZREVRANGEAsync: [Function],
        zcardAsync: [Function],
        ZCARDAsync: [Function],
        zscoreAsync: [Function],
        ZSCOREAsync: [Function],
        zrankAsync: [Function],
        ZRANKAsync: [Function],
        zrevrankAsync: [Function],
        ZREVRANKAsync: [Function],
        hsetAsync: [Function],
        HSETAsync: [Function],
        hsetnxAsync: [Function],
        HSETNXAsync: [Function],
        hgetAsync: [Function],
        HGETAsync: [Function],
        hmsetAsync: [Function],
        HMSETAsync: [Function],
        hmgetAsync: [Function],
        HMGETAsync: [Function],
        hincrbyAsync: [Function],
        HINCRBYAsync: [Function],
        hdelAsync: [Function],
        HDELAsync: [Function],
        hlenAsync: [Function],
        HLENAsync: [Function],
        hkeysAsync: [Function],
        HKEYSAsync: [Function],
        hvalsAsync: [Function],
        HVALSAsync: [Function],
        hgetallAsync: [Function],
        HGETALLAsync: [Function],
        hexistsAsync: [Function],
        HEXISTSAsync: [Function],
        incrbyAsync: [Function],
        INCRBYAsync: [Function],
        decrbyAsync: [Function],
        DECRBYAsync: [Function],
        getsetAsync: [Function],
        GETSETAsync: [Function],
        msetAsync: [Function],
        MSETAsync: [Function],
        msetnxAsync: [Function],
        MSETNXAsync: [Function],
        randomkeyAsync: [Function],
        RANDOMKEYAsync: [Function],
        selectAsync: [Function],
        SELECTAsync: [Function],
        moveAsync: [Function],
        MOVEAsync: [Function],
        renameAsync: [Function],
        RENAMEAsync: [Function],
        renamenxAsync: [Function],
        RENAMENXAsync: [Function],
        expireAsync: [Function],
        EXPIREAsync: [Function],
        expireatAsync: [Function],
        EXPIREATAsync: [Function],
        keysAsync: [Function],
        KEYSAsync: [Function],
        dbsizeAsync: [Function],
        DBSIZEAsync: [Function],
        authAsync: [Function],
        AUTHAsync: [Function],
        pingAsync: [Function],
        PINGAsync: [Function],
        echoAsync: [Function],
        ECHOAsync: [Function],
        saveAsync: [Function],
        SAVEAsync: [Function],
        bgsaveAsync: [Function],
        BGSAVEAsync: [Function],
        bgrewriteaofAsync: [Function],
        BGREWRITEAOFAsync: [Function],
        shutdownAsync: [Function],
        SHUTDOWNAsync: [Function],
        lastsaveAsync: [Function],
        LASTSAVEAsync: [Function],
        typeAsync: [Function],
        TYPEAsync: [Function],
        multiAsync: [Function],
        MULTIAsync: [Function],
        execAsync: [Function],
        EXECAsync: [Function],
        discardAsync: [Function],
        DISCARDAsync: [Function],
        syncAsync: [Function],
        SYNCAsync: [Function],
        flushdbAsync: [Function],
        FLUSHDBAsync: [Function],
        flushallAsync: [Function],
        FLUSHALLAsync: [Function],
        sortAsync: [Function],
        SORTAsync: [Function],
        infoAsync: [Function],
        INFOAsync: [Function],
        monitorAsync: [Function],
        MONITORAsync: [Function],
        ttlAsync: [Function],
        TTLAsync: [Function],
        persistAsync: [Function],
        PERSISTAsync: [Function],
        slaveofAsync: [Function],
        SLAVEOFAsync: [Function],
        debugAsync: [Function],
        DEBUGAsync: [Function],
        configAsync: [Function],
        CONFIGAsync: [Function],
        subscribeAsync: [Function],
        SUBSCRIBEAsync: [Function],
        unsubscribeAsync: [Function],
        UNSUBSCRIBEAsync: [Function],
        psubscribeAsync: [Function],
        PSUBSCRIBEAsync: [Function],
        punsubscribeAsync: [Function],
        PUNSUBSCRIBEAsync: [Function],
        publishAsync: [Function],
        PUBLISHAsync: [Function],
        watchAsync: [Function],
        WATCHAsync: [Function],
        unwatchAsync: [Function],
        UNWATCHAsync: [Function],
        clusterAsync: [Function],
        CLUSTERAsync: [Function],
        restoreAsync: [Function],
        RESTOREAsync: [Function],
        migrateAsync: [Function],
        MIGRATEAsync: [Function],
        dumpAsync: [Function],
        DUMPAsync: [Function],
        objectAsync: [Function],
        OBJECTAsync: [Function],
        clientAsync: [Function],
        CLIENTAsync: [Function],
        evalAsync: [Function],
        EVALAsync: [Function],
        evalshaAsync: [Function],
        EVALSHAAsync: [Function],
        bitcountAsync: [Function],
        BITCOUNTAsync: [Function],
        bitopAsync: [Function],
        BITOPAsync: [Function],
        bitposAsync: [Function],
        BITPOSAsync: [Function],
        hincrbyfloatAsync: [Function],
        HINCRBYFLOATAsync: [Function],
        incrbyfloatAsync: [Function],
        INCRBYFLOATAsync: [Function],
        pexpireAsync: [Function],
        PEXPIREAsync: [Function],
        pexpireatAsync: [Function],
        PEXPIREATAsync: [Function],
        pfaddAsync: [Function],
        PFADDAsync: [Function],
        pfcountAsync: [Function],
        PFCOUNTAsync: [Function],
        pfmergeAsync: [Function],
        PFMERGEAsync: [Function],
        psetexAsync: [Function],
        PSETEXAsync: [Function],
        pubsubAsync: [Function],
        PUBSUBAsync: [Function],
        pttlAsync: [Function],
        PTTLAsync: [Function],
        quitAsync: [Function],
        QUITAsync: [Function],
        scriptAsync: [Function],
        SCRIPTAsync: [Function],
        slowlogAsync: [Function],
        SLOWLOGAsync: [Function],
        timeAsync: [Function],
        TIMEAsync: [Function],
        zlexcountAsync: [Function],
        ZLEXCOUNTAsync: [Function],
        zrangebylexAsync: [Function],
        ZRANGEBYLEXAsync: [Function],
        zremrangebylexAsync: [Function],
        ZREMRANGEBYLEXAsync: [Function],
        scanAsync: [Function],
        SCANAsync: [Function],
        sscanAsync: [Function],
        SSCANAsync: [Function],
        hscanAsync: [Function],
        HSCANAsync: [Function],
        zscanAsync: [Function],
        ZSCANAsync: [Function],
        setMaxListenersAsync: [Function],
        emitAsync: [Function],
        addListenerAsync: [Function],
        onAsync: [Function],
        onceAsync: [Function],
        removeListenerAsync: [Function],
        removeAllListenersAsync: [Function],
        listenersAsync: [Function],
        emitted_end: false,
        reply_parser: [Object],
        send_anyway: false },
     delayTimer: null,
     processing: 0,
     token: '2da0f696-4ddf-48bf-b4a8-52a2a86c030a',
     LOCK_RENEW_TIME: 5000,
     timers: { idle: true, listeners: [], timers: {} },
     delayedTimestamp: 1.7976931348623157e+308,
     guardianTimer: 
      { _idleTimeout: 5000,
        _idlePrev: [Object],
        _idleNext: [Object],
        _idleStart: 37288689,
        _onTimeout: [Function: wrapper],
        _repeat: true },
     _events: {} },
  data: { foo: 'bar' },
  opts: {},
  _progress: 0,
  delay: NaN,
  timestamp: 1454878283152,
  stacktrace: [],
  attempts: 1,
  returnvalue: null,
  attemptsMade: 0,
  jobId: 1 } to equal null
          attempts: 1,
          attempts: 1,
          attempts: 1,
    attempts: 1,
    attemptsMade: 0,
      at Assertion.assert (node_modules/expect.js/index.js:96:13)
      at Assertion.be.Assertion.equal (node_modules/expect.js/index.js:216:10)
      at Assertion.(anonymous function) [as be] (node_modules/expect.js/index.js:69:24)
      at test/test_job.js:74:32
      at try_callback (node_modules/redis/index.js:595:9)
      at RedisClient.return_reply (node_modules/redis/index.js:688:13)
      at ReplyParser.<anonymous> (node_modules/redis/index.js:324:14)
      at ReplyParser.send_reply (node_modules/redis/lib/parser/javascript.js:302:10)
      at ReplyParser.execute (node_modules/redis/lib/parser/javascript.js:205:22)
      at RedisClient.on_data (node_modules/redis/index.js:550:27)
      at Socket.<anonymous> (node_modules/redis/index.js:105:14)
      at readableAddChunk (_stream_readable.js:163:16)
      at Socket.Readable.push (_stream_readable.js:126:10)
      at TCP.onread (net.js:538:20)
  From previous event:
      at Context.<anonymous> (test/test_job.js:73:10)



